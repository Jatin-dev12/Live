<section class="form-auth bg-basee d-flex align-items-center justify-content-center min-vh-100">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5">
                <div class="sign-form">
                        <div class="sign-form-logo">
                                <img src="/images/logo.png" alt="">
                            </a>
                            <h4 class="mb-12">Sign In to your Account</h4>
                            <p class="mb-32 text-secondary-light text-lg">Welcome back! please enter your detail</p>
                        </div>
                        <form id="loginForm">
                            <div id="errorMessage" class="alert alert-danger d-none mb-16" role="alert"></div>
                            <div class="icon-field mb-16">
                                <span class="icon top-50 translate-middle-y">
                                    <iconify-icon icon="mage:email"></iconify-icon>
                                </span>
                                <input type="email" class="form-control h-56-px bg-neutral-50 radius-12" id="email" name="email" placeholder="Email" required>
                            </div>
                            <div class="position-relative mb-20">
                                <div class="icon-field">
                                    <span class="icon top-50 translate-middle-y">
                                        <iconify-icon icon="solar:lock-password-outline"></iconify-icon>
                                    </span>
                                    <input type="password" class="form-control h-56-px bg-neutral-50 radius-12" id="your-password" name="password" placeholder="Password" required>
                                </div>
                                <span class="toggle-password ri-eye-line cursor-pointer position-absolute end-0 top-50 translate-middle-y me-16 text-secondary-light" data-toggle="#your-password"></span>
                            </div>
                            <div class="">
                                <div class="d-flex justify-content-between gap-2">
                                    <div class="form-check style-check d-flex align-items-center">
                                        <input class="form-check-input border border-neutral-300" type="checkbox" value="" id="remeber">
                                        <label class="form-check-label" for="remeber">Remember me </label>
                                    </div>
                                    <a href="/authentication/forgot-password" class="text-primary-600 fw-medium">Forgot Password?</a>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32" id="loginBtn">
                                <span class="btn-text">Sign In</span>
                                <span class="btn-spinner d-none">
                                    <span class="spinner-border spinner-border-sm" role="status"></span>
                                </span>
                            </button>

                        </form>
                </div>
            </div>
        </div>
    </div>
</section>
<% script = `

<script>
    // ================== Password Show Hide Js Start ==========
    function initializePasswordToggle(toggleSelector) {
        $(toggleSelector).on('click', function() {
            $(this).toggleClass('ri-eye-off-line');
            var input = $($(this).attr('data-toggle'));
            if (input.attr('type') === 'password') {
                input.attr('type', 'text');
            } else {
                input.attr('type', 'password');
            }
        });
    }
    // Call the function
    initializePasswordToggle('.toggle-password');
    // ========================= Password Show Hide Js End ===========================

    // ================== Login Form Submission Start ==========
    document.getElementById('loginForm').addEventListener('submit', async function(e) {
        e.preventDefault();

        const email = document.getElementById('email').value;
        const password = document.getElementById('your-password').value;
        const errorMessage = document.getElementById('errorMessage');
        const loginBtn = document.getElementById('loginBtn');
        const btnText = loginBtn.querySelector('.btn-text');
        const btnSpinner = loginBtn.querySelector('.btn-spinner');

        // Hide error message
        errorMessage.classList.add('d-none');

        // Show loading state
        loginBtn.disabled = true;
        btnText.classList.add('d-none');
        btnSpinner.classList.remove('d-none');

        try {
            const response = await fetch('/api/auth/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ email, password })
            });

            const result = await response.json();

            if (response.ok && result.success) {
                // Redirect to dashboard or specified URL
                window.location.href = result.data.redirectUrl || '/index';
            } else {
                // Show error message
                errorMessage.textContent = result.message || 'Login failed. Please check your credentials.';
                errorMessage.classList.remove('d-none');

                // Reset button state
                loginBtn.disabled = false;
                btnText.classList.remove('d-none');
                btnSpinner.classList.add('d-none');
            }
        } catch (error) {
            console.error('Login error:', error);
            errorMessage.textContent = 'An error occurred. Please try again.';
            errorMessage.classList.remove('d-none');

            // Reset button state
            loginBtn.disabled = false;
            btnText.classList.remove('d-none');
            btnSpinner.classList.add('d-none');
        }
    });
    // ========================= Login Form Submission End ===========================
</script>
` %>